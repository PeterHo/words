{"version":3,"sources":["../src/render_factory.js"],"names":["marked","require","FILES_PATH","defaultOptions","image","href","title","text","console","log","pp","test","link","out","renderFactory","options","markedRenderer","Renderer","Object","assign","propKeys","keys","forEach","key"],"mappings":";;;;;;AACA;;;;;;AADA,IAAMA,SAASC,QAAQ,QAAR,CAAf;IAEKC,U,uBAAAA,U;;;AAEL,IAAMC,iBAAiB;AACnBC,WAAO,eAAUC,IAAV,EAAgBC,KAAhB,EAAuBC,IAAvB,EAA6B;AAChCC,gBAAQC,GAAR,CAAY,cAAZ;AACA,YAAIC,KAAK,cAAT;AACA,YAAI,CAACA,GAAGC,IAAH,CAAQN,IAAR,CAAL,EAAoB;AAChB,mBAAO,QAAQ,YAAR,GAAuBH,UAAvB,GAAoC,GAApC,GAA0CG,IAA1C,GAAiD,KAAjD,GAAyD,MAAhE;AACH,SAFD,MAEO;AACH,mBAAO,QAAQ,YAAR,GAAuBA,IAAvB,GAA8B,KAA9B,GAAsC,MAA7C;AACH;AACJ,KATkB;AAUnBO,UAAM,cAAUP,IAAV,EAAgBC,KAAhB,EAAuBC,IAAvB,EAA6B;AAC/B,YAAIM,MAAM,gCAAgCR,IAAhC,GAAuC,IAAjD;AACA,YAAIC,KAAJ,EAAW;AACPO,mBAAO,cAAcP,KAAd,GAAsB,IAA7B;AACH;AACDO,eAAO,MAAMN,IAAN,GAAa,MAApB;AACA,eAAOM,GAAP;AACH;AAjBkB,CAAvB;;AAoBA,SAASC,aAAT,GAAqC;AAAA,QAAdC,OAAc,uEAAJ,EAAI;;AACjC,QAAIC,iBAAiB,IAAIhB,OAAOiB,QAAX,EAArB;AACAF,cAAUG,OAAOC,MAAP,CAAc,EAAd,EAAkBhB,cAAlB,EAAkCY,OAAlC,CAAV;AACA,QAAIK,WAAWF,OAAOG,IAAP,CAAYN,OAAZ,CAAf;AACAK,aAASE,OAAT,CAAiB,UAACC,GAAD,EAAS;AACtBP,uBAAeO,GAAf,IAAsBR,QAAQQ,GAAR,CAAtB;AACH,KAFD;AAGA,WAAOP,cAAP;AACH;;kBAEcF,a","file":"render_factory.js","sourcesContent":["const marked = require('marked');\nimport constants from './constants';\nlet {FILES_PATH} = constants;\n\nconst defaultOptions = {\n    image: function (href, title, text) {\n        console.log('render image');\n        var pp = /[http|https]/;\n        if (!pp.test(href)) {\n            return \"<p>\" + \"<img src='\" + FILES_PATH + '/' + href + \"'/>\" + \"</p>\";\n        } else {\n            return \"<p>\" + \"<img src='\" + href + \"'/>\" + \"</p>\";\n        }\n    },\n    link: function (href, title, text) {\n        let out = \"<a class='external' href=\\\"\" + href + \"\\\"\";\n        if (title) {\n            out += \" title=\\\"\" + title + \"\\\"\";\n        }\n        out += \">\" + text + \"</a>\";\n        return out;\n    }\n}\n\nfunction renderFactory(options = {}) {\n    let markedRenderer = new marked.Renderer();\n    options = Object.assign({}, defaultOptions, options);\n    let propKeys = Object.keys(options);\n    propKeys.forEach((key) => {\n        markedRenderer[key] = options[key];\n    });\n    return markedRenderer;\n}\n\nexport default renderFactory;\n"]}