{"version":3,"sources":["../../../src/renderer/views/files_list.js"],"names":["FilesList","props","linkClick","pathname","push","query","debouncedLinkClick","cancel","marginTop","files","map","file","index","_id","event","preventDefault","stopPropagation","boxShadow","border","marginBottom","onContextMenu","title","updatedAt","createdAt","lineHeight","fontSize","maxHeight","overflow","content","propTypes","array","callbacks","object"],"mappings":";;;;;;;;AAAA;;;;AAIA;;AAKA;;AAIA;;;;;;;;;;IASMA,S;;;AACJ,qBAAYC,KAAZ,EAAmB;AAAA;;AAEjB;AAFiB,sHACXA,KADW;;AAAA,UAWnBC,SAXmB,GAWP,UAACC,QAAD,EAAc;AACxB,+BAAYC,IAAZ,CAAiB,EAACD,UAAUA,QAAX,EAAqBE,OAAO,MAAKJ,KAAL,CAAWI,KAAvC,EAAjB;AACD,KAbkB;;AAGjB,UAAKC,kBAAL,GAA0B,MAAKJ,SAA/B;AAHiB;AAIlB;;;;2CAEsB;AACrB,UAAG,KAAKI,kBAAL,CAAwBC,MAA3B,EACE,KAAKD,kBAAL,CAAwBC,MAAxB;AACH;;;6BAMS;AAAA;;AACR,aACE;AAAA;AAAA;AACE,iBAAO,EAACC,WAAW,MAAZ;AADT;AAGG,aAAKP,KAAL,CAAWQ,KAAX,CAAiBC,GAAjB,CAAqB,UAACC,IAAD,EAAOC,KAAP,EAAiB;AACrC,iBACE;AAAA;AAAA;AACE,kBAAI,EAACT,sBAAoBQ,KAAKE,GAAzB,UAAD,EAAsCR,OAAO,OAAKJ,KAAL,CAAWI,KAAxD,EADN;AAEE,mBAAKM,KAAKE,GAFZ;AAGE,+BAAgB,QAHlB;AAIE,yBAAU,WAJZ;AAKE,uBAAS,iBAACC,KAAD,EAAW;AAChBA,sBAAMC,cAAN;AACAD,sBAAME,eAAN;AACA,uBAAKV,kBAAL,aAAkCK,KAAKE,GAAvC;AACD;AATL;AAWE;AAAA;AAAA;AACE,uBAAO;AACLI,6BAAW,MADN;AAELC,0BAAQ,gBAFH;AAGLV,6BAAW,KAHN;AAILW,gCAAc;AAJT,iBADT;AAOE,+BAAe,uBAACL,KAAD,EAAW;AAACA,wBAAME,eAAN,GAAwB,OAAKf,KAAL,CAAWmB,aAAX,CAAyBT,IAAzB,EAA+BC,KAA/B;AAAuC;AAP5F;AASE;AACE,uBAAOD,KAAKU,KAAL,IAAc,UADvB;AAEE,0BAAU,kBAAO,uBAAYV,KAAKW,SAAL,IAAkBX,KAAKY,SAAnC,CAAP,CAFZ;AAGE,sCAAsB,IAHxB;AAIE,uBAAO;AACLC,8BAAY,MADP;AAELC,4BAAU;AAFL;AAJT,gBATF;AAkBE;AAAA;AAAA;AACE,8BAAY,IADd;AAEE,yBAAO;AACLC,+BAAW,MADN;AAELC,8BAAU,QAFL;AAGLF,8BAAU,MAHL;AAILD,gCAAY;AAJP;AAFT;AASGb,qBAAKiB,OAAL,IAAgB;AATnB;AAlBF;AAXF,WADF;AA4CD,SA7CA;AAHH,OADF;AAoDD;;;;;;AAIH5B,UAAU6B,SAAV,GAAsB;AACpBpB,SAAO,iBAAUqB,KADG;AAEpBC,aAAW,iBAAUC;AAFD,CAAtB;;kBAKehC,S","file":"files_list.js","sourcesContent":["import React, {\n    Component,\n    PropTypes\n} from 'react';\nimport {\n    Card,\n    CardHeader,\n    CardText\n} from 'material-ui/Card';\nimport {\n    Link,\n    IndexLink\n} from 'react-router';\nimport {\n  ppDate,\n  chineseDate,\n  debounce\n} from '../../util';\nimport {\n    hashHistory\n} from 'react-router';\n\nclass FilesList extends Component {\n  constructor(props) {\n    super(props);\n    // this.debouncedLinkClick = debounce(this.linkClick, 200);\n    this.debouncedLinkClick = this.linkClick;\n  }\n\n  componentWillUnmount() {\n    if(this.debouncedLinkClick.cancel)\n      this.debouncedLinkClick.cancel();\n  }\n\n  linkClick = (pathname) => {\n    hashHistory.push({pathname: pathname, query: this.props.query})\n  }\n\n  render () {\n    return (\n      <div\n        style={{marginTop: '95px'}}\n      >\n        {this.props.files.map((file, index) => {\n          return (\n            <Link\n              to={{pathname: `/notes/${file._id}/edit`, query: this.props.query}}\n              key={file._id}\n              activeClassName='active'\n              className='file-item'\n              onClick={(event) => {\n                  event.preventDefault();\n                  event.stopPropagation();\n                  this.debouncedLinkClick(`/notes/${file._id}/edit`);\n                }}\n            >\n              <Card\n                style={{\n                  boxShadow: 'none',\n                  border: '1px solid #eee',\n                  marginTop: '1px',\n                  marginBottom: '1px'\n                }}\n                onContextMenu={(event) => {event.stopPropagation();this.props.onContextMenu(file, index);}}\n              >\n                <CardHeader\n                  title={file.title || 'Untitled'}\n                  subtitle={ppDate(chineseDate(file.updatedAt || file.createdAt))}\n                  showExpandableButton={true}\n                  style={{\n                    lineHeight: '18px',\n                    fontSize: '16px'\n                  }}\n                />\n                <CardText\n                  expandable={true}\n                  style={{\n                    maxHeight: '50px',\n                    overflow: 'hidden',\n                    fontSize: '14px',\n                    lineHeight: '16px'\n                  }}\n                >\n                  {file.content || 'Enjoy Markdown! coding now'}\n                </CardText>\n              </Card>\n            </Link>\n          );\n        })}\n      </div>\n    );\n  }\n}\n\n\nFilesList.propTypes = {\n  files: PropTypes.array,\n  callbacks: PropTypes.object\n}\n\nexport default FilesList;\n"]}