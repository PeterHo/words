{"version":3,"sources":["../../src/renderer/setup_ipc.js"],"names":["setupIpc","dispatch","ipcRender","require","ipcRenderer","on","e","args","log","send","action","handler"],"mappings":";;;;;QAIgBA,Q,GAAAA,Q;QAUAC,Q,GAAAA,Q;;AAbhB;;;;;;AADA,IAAMC,YAAYC,QAAQ,UAAR,EAAoBC,WAAtC;;;AAGA;AACO,SAASJ,QAAT,GAAqB;AAC1BE,YAAUG,EAAV,CAAa,KAAb,EAAoB,UAACC,CAAD;AAAA;;AAAA,sCAAOC,IAAP;AAAOA,UAAP;AAAA;;AAAA,WAAgB,qBAAQC,GAAR,iBAAeD,IAAf,CAAhB;AAAA,GAApB;AACAL,YAAUG,EAAV,CAAa,OAAb,EAAsB,UAACC,CAAD;AAAA;;AAAA,uCAAOC,IAAP;AAAOA,UAAP;AAAA;;AAAA,WAAgB,sBAAQC,GAAR,kBAAeD,IAAf,CAAhB;AAAA,GAAtB;AACAL,YAAUG,EAAV,CAAa,UAAb,EAAyB,UAACC,CAAD;AAAA,uCAAOC,IAAP;AAAOA,UAAP;AAAA;;AAAA,WAAgBN,0BAAYM,IAAZ,CAAhB;AAAA,GAAzB;AACA;AACA;AACAL,YAAUO,IAAV,CAAe,iBAAf;AACD;;AAED;AACO,SAASR,QAAT,CAAmBS,MAAnB,EAAoC;AACzC,MAAIC,UAAU,4BAAiBD,MAAjB,CAAd;;AADyC,qCAANH,IAAM;AAANA,QAAM;AAAA;;AAEzC,MAAGI,OAAH,EACEA,yBAAWJ,IAAX;AACH","file":"setup_ipc.js","sourcesContent":["const ipcRender = require('electron').ipcRenderer;\nimport dispatchHandlers from './dispatch_handlers';\n\n// setup render ipc\nexport function setupIpc () {\n  ipcRender.on('log', (e, ...args) => console.log(...args));\n  ipcRender.on('error', (e, ...args) => console.log(...args));\n  ipcRender.on('dispatch', (e, ...args) => dispatch(...args));\n  // render main process render event listen is ready\n  // because main process always before render process, so , we must ensure the render process is ready for event from main process.\n  ipcRender.send('mainRenderReady');\n}\n\n// dispatch main event to render handler\nexport function dispatch (action, ...args) {\n  let handler = dispatchHandlers[action];\n  if(handler)\n    handler(...args);\n}\n"]}