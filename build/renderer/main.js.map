{"version":3,"sources":["../../src/renderer/main.js"],"names":["window","constants","FILES_PATH","muiTheme","fontFamily","palette","primary1Color","ipcRenderer","require","controlNewNoteMenu","globalBook","subscribe","getState","_id","send","document","addEventListener","getElementById"],"mappings":";;AAAA;;;;AACA;;AACA;;;;AACA;;AACA;;AACA;;;;AACA;;;;AAKA;;;;AAIA;;;;AACA;;;;;;AATAA,OAAOC,SAAP;IACKC,U,uBAAAA,U;;AAEL;;AAEA;;AAEA;;;AAIA,IAAMC,WAAW,2BAAY;AACzBC,gBAAY,qJADa;AAEzBC,aAAS;AACLC,uBAAe;AADV;AAFgB,CAAZ,CAAjB;;AAOA,IAAMC,cAAcC,QAAQ,UAAR,EAAoBD,WAAxC;;AAGA;AACA,SAASE,kBAAT,GAA8B;AAC1B,QAAIC,aAAa,IAAjB;AACA,oBAAMC,SAAN,CAAgB,YAAM;AAClB,YAAK,CAAC,CAAC,gBAAMC,QAAN,GAAiBF,UAAjB,CAA4BG,GAA/B,IAAuCH,UAA3C,EAAuD;AACnDA,yBAAc,CAAC,CAAC,gBAAME,QAAN,GAAiBF,UAAjB,CAA4BG,GAA5C;AACA,gBAAI,gBAAMD,QAAN,GAAiBF,UAAjB,CAA4BG,GAAhC,EAAqC;AACjCN,4BAAYO,IAAZ,CAAiB,YAAjB,EAA+B,UAA/B;AACH,aAFD,MAEO;AACHP,4BAAYO,IAAZ,CAAiB,aAAjB,EAAgC,UAAhC;AACH;AACJ;AACJ,KATD;AAUH;;AAEDL;;AAEAM,SAASC,gBAAT,CAA0B,kBAA1B,EAA8C,YAAY;AACtD,0BACI;AAAA;AAAA,UAAU,sBAAV;AACI;AAAA;AAAA,cAAkB,UAAUb,QAA5B;AACI;AADJ;AADJ,KADJ,EAMIY,SAASE,cAAT,CAAwB,MAAxB,CANJ;AAQH,CATD,EASG,KATH;;AAWAjB,OAAOE,UAAP,GAAoBA,UAApB","file":"main.js","sourcesContent":["import React from 'react';\nimport {render} from 'react-dom';\nimport App from './views/app';\nimport {files, books, tags, infos} from '../main/set_db';\nimport {Provider} from 'react-redux';\nimport store from './store';\nimport constants from '../constants';\nwindow.constants = constants;\nlet {FILES_PATH} = constants;\n\n// material-ui use the plugin\nimport injectTapEventPlugin from 'react-tap-event-plugin';\ninjectTapEventPlugin();\n\n// material-ui theme provider\nimport MuiThemeProvider from 'material-ui/styles/MuiThemeProvider';\nimport getMuiTheme from 'material-ui/styles/getMuiTheme';\n\nconst muiTheme = getMuiTheme({\n    fontFamily: '\"YaHei Consolas Hybrid\", Consolas, 微软雅黑, \"Meiryo UI\", \"Malgun Gothic\", \"Segoe UI\", \"Trebuchet MS\", Helvetica, Monaco, courier, monospace !important',\n    palette: {\n        primary1Color: '#e78170'\n    }\n});\n\nconst ipcRenderer = require('electron').ipcRenderer;\n\n\n// subscribe redux to control new note menu item\nfunction controlNewNoteMenu() {\n    var globalBook = null;\n    store.subscribe(() => {\n        if ((!!store.getState().globalBook._id) != globalBook) {\n            globalBook = (!!store.getState().globalBook._id);\n            if (store.getState().globalBook._id) {\n                ipcRenderer.send('enableItem', 'New Note');\n            } else {\n                ipcRenderer.send('disableItem', 'New Note');\n            }\n        }\n    });\n}\n\ncontrolNewNoteMenu();\n\ndocument.addEventListener('DOMContentLoaded', function () {\n    render(\n        <Provider store={store}>\n            <MuiThemeProvider muiTheme={muiTheme}>\n                <App/>\n            </MuiThemeProvider>\n        </Provider>,\n        document.getElementById('root')\n    );\n}, false);\n\nwindow.FILES_PATH = FILES_PATH;\n\n"]}