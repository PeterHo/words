{"version":3,"sources":["../../src/main/index.js"],"names":["electron","require","app","BrowserWindow","Menu","ipcMain","ipcRenderer","path","windows","ipc","menu","tray","menubar","height","showDockIcon","index","resolve","__dirname","icon","on","init","main","worker","shouldQuit","makeSingleInstance","onAppOpen","quite","process","platform","quit","win","ipcReady","show"],"mappings":";;AAQA;;;;;;AARA,IAAMA,WAAWC,QAAQ,UAAR,CAAjB;IACOC,G,GAAkDF,Q,CAAlDE,G;IAAKC,a,GAA6CH,Q,CAA7CG,a;IAAeC,I,GAA8BJ,Q,CAA9BI,I;IAAMC,O,GAAwBL,Q,CAAxBK,O;IAASC,W,GAAeN,Q,CAAfM,W;;;AAE1C,IAAMC,OAAON,QAAQ,MAAR,CAAb;AACA,IAAMO,UAAUP,QAAQ,WAAR,CAAhB;AACA,IAAMQ,MAAMR,QAAQ,OAAR,CAAZ;AACA,IAAMS,OAAOT,QAAQ,QAAR,CAAb;AACA,IAAMU,OAAOV,QAAQ,QAAR,CAAb;;;AAGA,IAAIW,UAAUD,KAAK;AACfE,YAAQ,GADO;AAEfC,kBAAc,IAFC;AAGfC,uBAAiBR,KAAKS,OAAL,CAAaC,SAAb,EAAwB,wBAAxB,CAHF;AAIfC,UAAMX,KAAKS,OAAL,CAAaC,SAAb,EAAwB,sCAAxB;AAJS,CAAL,CAAd;;AAOAL,QAAQO,EAAR,CAAW,OAAX,EAAoB,YAAY,CAC/B,CADD;;AAGA,SAASC,IAAT,GAAgB;AACZlB,QAAIiB,EAAJ,CAAO,OAAP,EAAgB,YAAY;AACxBX,gBAAQa,IAAR,CAAaD,IAAb;AACAZ,gBAAQc,MAAR,CAAeF,IAAf;AACAV,aAAKU,IAAL;AACH,KAJD;AAKH;;AAED,IAAIG,aAAa,KAAjB;;AAEA,IAAI,CAACA,UAAL,EAAiB;AACbA,iBAAarB,IAAIsB,kBAAJ,CAAuBC,SAAvB,CAAb;AACA,QAAIF,UAAJ,EAAgB;AACZrB,YAAIwB,KAAJ;AACH;AACJ;;AAED,IAAI,CAACH,UAAL,EAAiB;AACbH;AACH;;AAEDX,IAAIW,IAAJ;;AAEAlB,IAAIiB,EAAJ,CAAO,mBAAP,EAA4B,YAAY;AACpC,QAAIQ,QAAQC,QAAR,KAAqB,QAAzB,EAAmC;AAC/B1B,YAAI2B,IAAJ;AACH;AACJ,CAJD;;AAMA3B,IAAIiB,EAAJ,CAAO,UAAP,EAAmB,YAAY;AAC3B,QAAIX,QAAQa,IAAR,CAAaS,GAAb,KAAqB,IAAzB,EAA+B;AAC3BtB,gBAAQa,IAAR,CAAaD,IAAb;AACH;AACJ,CAJD;;AAMA,SAASK,SAAT,GAAqB;AACjB,QAAIvB,IAAI6B,QAAR,EAAkB;AACdvB,gBAAQa,IAAR,CAAaW,IAAb;AACH;AACJ","file":"index.js","sourcesContent":["const electron = require('electron');\nconst {app, BrowserWindow, Menu, ipcMain, ipcRenderer} = electron;\n\nconst path = require('path');\nconst windows = require('./windows');\nconst ipc = require('./ipc');\nconst menu = require('./menu');\nconst tray = require('./tray')\nimport config from '../config';\n\nvar menubar = tray({\n    height: 450,\n    showDockIcon: true,\n    index: `file://${path.resolve(__dirname, '../../static/tray.html')}`,\n    icon: path.resolve(__dirname, '../../static/images/IconTemplate.png')\n});\n\nmenubar.on('ready', function () {\n});\n\nfunction init() {\n    app.on('ready', function () {\n        windows.main.init();\n        windows.worker.init();\n        menu.init();\n    });\n}\n\nvar shouldQuit = false;\n\nif (!shouldQuit) {\n    shouldQuit = app.makeSingleInstance(onAppOpen);\n    if (shouldQuit) {\n        app.quite();\n    }\n}\n\nif (!shouldQuit) {\n    init();\n}\n\nipc.init();\n\napp.on('window-all-closed', function () {\n    if (process.platform !== 'darwin') {\n        app.quit();\n    }\n});\n\napp.on('activate', function () {\n    if (windows.main.win === null) {\n        windows.main.init();\n    }\n});\n\nfunction onAppOpen() {\n    if (app.ipcReady) {\n        windows.main.show();\n    }\n}\n"]}