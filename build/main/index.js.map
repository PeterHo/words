{"version":3,"sources":["../../src/main/index.js"],"names":["wnd","electron","require","app","BrowserWindow","Menu","ipcMain","ipcRenderer","ipc","shouldQuit","makeSingleInstance","mainWnd","isMinimized","restore","focus","quit","init","on","process","platform"],"mappings":";;AAGA;;IAAYA,G;;;;AAHZ,IAAMC,WAAWC,QAAQ,UAAR,CAAjB;IACOC,G,GAAkDF,Q,CAAlDE,G;IAAKC,a,GAA6CH,Q,CAA7CG,a;IAAeC,I,GAA8BJ,Q,CAA9BI,I;IAAMC,O,GAAwBL,Q,CAAxBK,O;IAASC,W,GAAeN,Q,CAAfM,W;;AAG1C,IAAMC,MAAMN,QAAQ,OAAR,CAAZ;;AAEA;AACA,IAAMO,aAAaN,IAAIO,kBAAJ,CAAuB,YAAM;AAC5C,QAAIV,IAAIW,OAAR,EAAiB;AACb,YAAIX,IAAIW,OAAJ,CAAYC,WAAZ,EAAJ,EAA+B;AAC3BZ,gBAAIW,OAAJ,CAAYE,OAAZ;AACH;AACDb,YAAIW,OAAJ,CAAYG,KAAZ;AACH;AACJ,CAPkB,CAAnB;;AASA,IAAIL,UAAJ,EAAgB;AACZN,QAAIY,IAAJ;AACH;;AAED;AACAP,IAAIQ,IAAJ;;AAEA;AACAb,IAAIc,EAAJ,CAAO,OAAP,EAAgB,YAAY;AACxBjB,QAAIgB,IAAJ;AACH,CAFD;;AAIA;AACAb,IAAIc,EAAJ,CAAO,mBAAP,EAA4B,YAAY;AACpC,QAAIC,QAAQC,QAAR,KAAqB,QAAzB,EAAmC;AAC/BhB,YAAIY,IAAJ;AACH;AACJ,CAJD","file":"index.js","sourcesContent":["const electron = require('electron');\nconst {app, BrowserWindow, Menu, ipcMain, ipcRenderer} = electron;\n\nimport * as wnd from './windows';\nconst ipc = require('./ipc');\n\n// 判断多开\nconst shouldQuit = app.makeSingleInstance(() => {\n    if (wnd.mainWnd) {\n        if (wnd.mainWnd.isMinimized()) {\n            wnd.mainWnd.restore();\n        }\n        wnd.mainWnd.focus();\n    }\n});\n\nif (shouldQuit) {\n    app.quit();\n}\n\n// 初始化ipc\nipc.init();\n\n// 初始化程序\napp.on('ready', function () {\n    wnd.init();\n});\n\n// 关闭程序\napp.on('window-all-closed', function () {\n    if (process.platform !== 'darwin') {\n        app.quit();\n    }\n});\n"]}