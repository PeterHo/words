{"version":3,"sources":["../../src/main/windows.js"],"names":["init","send","dispatch","electron","require","app","BrowserWindow","path","mainWnd","show","width","height","icon","resolve","__dirname","loadURL","on","length","mainRenderReady","args","push"],"mappings":";;;;;;QAUgBA,I,GAAAA,I;QAoBAC,I,GAAAA,I;QAQAC,Q,GAAAA,Q;;AAjChB;;AALA,IAAMC,WAAWC,QAAQ,UAAR,CAAjB;IACOC,G,GAAsBF,Q,CAAtBE,G;IAAKC,a,GAAiBH,Q,CAAjBG,a;;;AAEZ,IAAMC,OAAOH,QAAQ,MAAR,CAAb;;AAKO,IAAII,4BAAU,IAAd;;AAEA,SAASR,IAAT,GAAgB;AACnB,QAAIQ,OAAJ,EAAa;AACT,eAAOA,QAAQC,IAAR,EAAP;AACH;;AAED,YAPOD,OAOP,aAAU,IAAIF,aAAJ,CAAkB;AACxBI,eAAO,IADiB;AAExBC,gBAAQ,GAFgB;AAGxBC,mBAASL,KAAKM,OAAL,CAAaC,SAAb,EAAwB,mCAAxB;AAHe,KAAlB,CAAV;;AAMAN,YAAQO,OAAR,aAA0BR,KAAKM,OAAL,CAAaC,SAAb,EAAwB,wBAAxB,CAA1B;;AAEAN,YAAQQ,EAAR,CAAW,QAAX,EAAqB,YAAY;AAC7B,gBAhBGR,OAgBH,aAAU,IAAV;AACA,0BAAaS,MAAb,GAAsB,CAAtB;AACAZ,YAAIa,eAAJ,GAAsB,KAAtB;AACH,KAJD;AAKH;;AAEM,SAASjB,IAAT,GAAuB;AAAA,sCAANkB,IAAM;AAANA,YAAM;AAAA;;AAC1B,QAAI,CAACX,OAAD,IAAY,CAACH,IAAIa,eAArB,EAAsC;AAClC,0BAAaE,IAAb,CAAkBD,IAAlB;AACH,KAFD,MAEO;AAAA;;AACH,6BAAQlB,IAAR,iBAAgBkB,IAAhB;AACH;AACJ;;AAEM,SAASjB,QAAT,GAA2B;AAAA,uCAANiB,IAAM;AAANA,YAAM;AAAA;;AAC9BlB,2BAAK,UAAL,SAAoBkB,IAApB;AACH","file":"windows.js","sourcesContent":["const electron = require('electron')\nconst {app, BrowserWindow} = electron;\n\nconst path = require('path')\n\nimport {mainMsgQueue} from './ipc.js';\n\n\nexport let mainWnd = null;\n\nexport function init() {\n    if (mainWnd) {\n        return mainWnd.show();\n    }\n\n    mainWnd = new BrowserWindow({\n        width: 1000,\n        height: 800,\n        icon: `${path.resolve(__dirname, '../../static/images/app-icon.jpeg')}`\n    });\n\n    mainWnd.loadURL(`file://${path.resolve(__dirname, '../../static/main.html')}`)\n\n    mainWnd.on('closed', function () {\n        mainWnd = null;\n        mainMsgQueue.length = 0;\n        app.mainRenderReady = false;\n    })\n}\n\nexport function send(...args) {\n    if (!mainWnd || !app.mainRenderReady) {\n        mainMsgQueue.push(args);\n    } else {\n        mainWnd.send(...args);\n    }\n}\n\nexport function dispatch(...args) {\n    send('dispatch', ...args);\n}\n"]}